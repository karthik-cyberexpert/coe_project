# Sidebar Navigation - Role Comparison

## Visual Sidebar Layout for Each Role

### ğŸ‘¤ Admin User (`admin@coe.com`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ Admin User              â”‚
â”‚  admin@coe.com              â”‚
â”‚  [Sign Out]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  ğŸ“Š Dashboard               â”‚  â† Active for all
â”‚  ğŸ“„ Manage Sheets           â”‚  â† Admin only
â”‚  ğŸ“š Manage Subjects         â”‚  â† Admin only
â”‚  ğŸ¢ Manage Departments      â”‚  â† Admin only
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Total Items:** 4 sections  
**Access Level:** Full System Access

---

### ğŸ‘¤ CEO User (`ceo@coe.com`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ CEO User                â”‚
â”‚  ceo@coe.com                â”‚
â”‚  [Sign Out]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  ğŸ“Š Dashboard               â”‚  â† Active for all
â”‚  ğŸ“„ COE Sheets              â”‚  â† CEO only
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Total Items:** 2 sections  
**Access Level:** COE-Level Access (Attendance-marked sheets)

---

### ğŸ‘¤ Sub-Admin User (`subadmin@coe.com`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ Sub Admin User          â”‚
â”‚  subadmin@coe.com           â”‚
â”‚  [Sign Out]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  ğŸ“Š Dashboard               â”‚  â† Active for all
â”‚  ğŸ“„ Sub-Admin Sheets        â”‚  â† Sub-Admin only
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Total Items:** 2 sections  
**Access Level:** Attendance Management

---

### ğŸ‘¤ Staff User (`staff@coe.com`)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ Staff User              â”‚
â”‚  staff@coe.com              â”‚
â”‚  [Sign Out]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  ğŸ“Š Dashboard               â”‚  â† Active for all
â”‚  ğŸ“„ Staff Sheets            â”‚  â† Staff only
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Total Items:** 2 sections  
**Access Level:** Marks Entry (Duplicate-generated sheets)

---

## Feature Comparison Matrix

| Feature | Admin | CEO | Sub-Admin | Staff |
|---------|-------|-----|-----------|-------|
| **Dashboard Access** | âœ… | âœ… | âœ… | âœ… |
| **View All Sheets** | âœ… | âŒ | âœ… | âŒ |
| **View Attendance-Marked** | âœ… | âœ… | âœ… | âŒ |
| **View Duplicate-Generated** | âœ… | âœ… | âœ… | âœ… |
| **Create Sheets** | âœ… | âŒ | âŒ | âŒ |
| **Edit Sheets** | âœ… | âŒ | âœ… | âœ… |
| **Delete Sheets** | âœ… | âŒ | âŒ | âŒ |
| **Mark Attendance** | âœ… | âŒ | âœ… | âŒ |
| **Generate Duplicates** | âœ… | âœ… | âŒ | âŒ |
| **Add External Marks** | âœ… | âŒ | âŒ | âœ… |
| **Manage Subjects** | âœ… | âŒ | âŒ | âŒ |
| **Manage Departments** | âœ… | âŒ | âŒ | âŒ |

---

## Navigation Routes

| User Role | Routes Available |
|-----------|------------------|
| **Admin** | `/dashboard`<br>`/sheets`<br>`/subjects`<br>`/departments` |
| **CEO** | `/dashboard`<br>`/coe-sheets` |
| **Sub-Admin** | `/dashboard`<br>`/subadmin-sheets` |
| **Staff** | `/dashboard`<br>`/staff-sheets` |

---

## Sheet Filtering Logic

### Dashboard View (All Users)
- **Admin:** Sees ALL sheets regardless of status
- **CEO:** Sees only sheets with `attendance_marked = true`
- **Sub-Admin:** Sees ALL sheets (to mark attendance)
- **Staff:** Sees only sheets with `duplicates_generated = true`

### Dedicated Sheet Pages
- **Admin (`/sheets`):** Full CRUD operations
- **CEO (`/coe-sheets`):** View + Generate Duplicates
- **Sub-Admin (`/subadmin-sheets`):** View + Mark Attendance
- **Staff (`/staff-sheets`):** View + Add External Marks

---

## Sidebar Visibility Rules (from `Sidebar.tsx`)

```typescript
// Dashboard - Always visible to all authenticated users
âœ… All Roles

// Admin sections - Only visible to Admin role
âœ… if (profile.is_admin)
  â†’ Manage Sheets
  â†’ Manage Subjects
  â†’ Manage Departments

// CEO section - Only visible to CEO (not Admin)
âœ… if (profile.is_ceo && !profile.is_admin)
  â†’ COE Sheets

// Sub-Admin section - Only visible to Sub-Admin (not Admin/CEO)
âœ… if (profile.is_sub_admin && !profile.is_admin && !profile.is_ceo)
  â†’ Sub-Admin Sheets

// Staff section - Only visible to Staff (not Admin/CEO/Sub-Admin)
âœ… if (profile.is_staff && !profile.is_admin && !profile.is_ceo && !profile.is_sub_admin)
  â†’ Staff Sheets
```

---

## Testing Checklist

### âœ… Admin User Test
- [ ] Login with `admin@coe.com` / `Test@123`
- [ ] Verify 4 sidebar items appear (Dashboard, Manage Sheets, Manage Subjects, Manage Departments)
- [ ] Navigate to each page successfully
- [ ] Verify full CRUD operations work
- [ ] Sign out successfully

### âœ… CEO User Test
- [ ] Login with `ceo@coe.com` / `Test@123`
- [ ] Verify 2 sidebar items appear (Dashboard, COE Sheets)
- [ ] Confirm no Manage sections visible
- [ ] Verify only attendance-marked sheets appear
- [ ] Test duplicate generation
- [ ] Sign out successfully

### âœ… Sub-Admin User Test
- [ ] Login with `subadmin@coe.com` / `Test@123`
- [ ] Verify 2 sidebar items appear (Dashboard, Sub-Admin Sheets)
- [ ] Confirm no Manage sections visible
- [ ] Verify all sheets appear for attendance marking
- [ ] Test attendance marking feature
- [ ] Sign out successfully

### âœ… Staff User Test
- [ ] Login with `staff@coe.com` / `Test@123`
- [ ] Verify 2 sidebar items appear (Dashboard, Staff Sheets)
- [ ] Confirm no Manage sections visible
- [ ] Verify only duplicate-generated sheets appear
- [ ] Test external marks entry
- [ ] Sign out successfully

---

## Common Issues & Solutions

### Issue: Sidebar items not appearing
**Solution:** Check profile data is loaded correctly in DashboardLayout

### Issue: Wrong pages visible
**Solution:** Verify role flags in database profiles table

### Issue: Route protection not working
**Solution:** Check protected route components match user roles

### Issue: User can access unauthorized routes
**Solution:** Protected routes in App.tsx should wrap role-specific pages

---

**Last Updated:** January 2025  
**Sidebar Component:** `/src/components/Sidebar.tsx`  
**Layout Component:** `/src/components/DashboardLayout.tsx`

